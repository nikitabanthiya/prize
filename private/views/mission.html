<div class="row">
    <div class="col-lg-12">
            <h1 class="page-header" style="color : grey !important;">Missions</h1>    
            <div class="row">
                <button ng-click="createMission()" class="btn btn-primary pull-left" style="margin-left : 2em">Create Mission</button>
                    <div class="col-md-4 col-md-offset-6">

                        <form action="" class="search-form">
                        
                            <div class="form-group has-feedback">
                                <label for="search" class="sr-only">Search</label>
                                <input type="text" ng-model = "filter.search" class="form-control" name="search" id="search" placeholder="search">
                                <span class="glyphicon glyphicon-search form-control-feedback"></span>
                            </div>
                        </form>
                    </div>
            </div>
        </div>
     </div>     
        <div ng-show="showHideCreateMissions">
            <form name="missionCreate" class="form-horizontal" role="form"  data-ng-submit="saveOrCreateMission();">
                <fieldset>
                    
                    <div class="form-group">
                        <!-- name -->
                        <label for="inputName3" class="col-sm-2 control-label">Sponser</label>
                        <div class="col-sm-4">
                            <input  class="form-control" type="text" data-ng-model="mission.sponser" placeholder="Title"
                            required />
                        </div>
                        <!-- code -->
                        <label for="inputName3" class="col-sm-2 control-label">Details</label>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" data-ng-model="mission.details"  placeholder="Details"
                            required />
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <!-- brand -->
                        <label for="inputName3" class="col-sm-2 control-label">Prize</label>
                        <div class="col-sm-4">
                            <input type="number" class="form-control"  data-ng-model="mission.prize"  placeholder="Prize"
                            required />
                        </div>
                        <!-- Validity-->
                        <label for="inputName3" class="col-sm-2 control-label">Expiration date</label>
                        <div class="col-sm-4">
                            
                            <input type="datetime-local" class="form-control"  data-ng-model="mission.valid_thru"  placeholder="yyyy-MM-ddTHH:mm:ss"
                            required />
                            
                        </div>
                    </div>
                    <div class="form-group">
                        
                        <label for="inputName3" class="col-sm-2 control-label">More Info</label>
                        <div class="col-sm-4">
                            <input  type="text" class="form-control" data-ng-model="mission.info"  placeholder="More Info"
                            required />
                        </div>
                        <label for="inputName3" class="col-sm-2 control-label">URL</label>
                        <div class="col-sm-4">
                            <input   type="url" class="form-control"  data-ng-model="mission.url"  placeholder="URL"
                            required />
                        </div>
                    </div>
                    
                    
                    <div class="form-group">
                        <label for="inputName3" class="col-sm-2 control-label">Comments</label>
                        <div class="col-sm-4">
                            <input   type="text" class="form-control"  data-ng-model="mission.comments"  placeholder="Comments"
                            required />
                        </div>
                        <label for="inputName3" class="col-sm-2 control-label">Active Status</label>
                        <div class="col-sm-4">
                            <select  class ="form-control" ng-init="mission.active_flag = activeStatus[0]" ng-model="mission.active_flag" ng-options="as.name for as in activeStatus">
                                
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <!-- Price-->
                        <label for="inputName3" class="col-sm-2 control-label">Views</label>
                        <div class="col-sm-4">
                            <input   type="number" class="form-control"  data-ng-model="mission.views_counter"  placeholder="Views"
                            required />
                        </div>
                        <label for="inputName3" class="col-sm-2 control-label">Report</label>
                        <div class="col-sm-4">
                            <input   type="number" class="form-control"  data-ng-model="mission.download_counter"  placeholder="Download"
                            required />
                        </div>
                    </div>
                    <div class="form-group">
                        <!-- Price-->
                        <label for="inputName3" class="col-sm-2 control-label">Likes</label>
                        <div class="col-sm-4">
                            <input   type="number" class="form-control"  data-ng-model="mission.likes_counter"  placeholder="Likes"
                            required />
                        </div>
                        <label for="inputName3" class="col-sm-2 control-label">Share</label>
                        <div class="col-sm-4">
                            <input   type="number" class="form-control"  data-ng-model="mission.share_counter"  placeholder="Share"
                            required />
                        </div>
                    </div>
                    
                    <div class="col-md-6 col-md-offset-3 "><button type="submit" class="btn btn-default" >Save Mission</button></div>
                    
                </fieldset>
            </form>
        </div>
        
<!--         {{checkboxes.items}} -->
        <!-- <div id="divID" style="margin-right:10px !important"></div> -->
        <table ng-table="tableParams" class="table" style="margin-right : 2em">
            <tbody ng-repeat="m in missions | filter:filter.search" ng-scroller-repeat= "m in missions">
                <tr id="tr{{m.id}}" ng-class-odd="'odd'" ng-class-even="'even'">
                    <td width="30" style="text-align: left" header="'ng-table/headers/checkbox.html'">
                        <input type="checkbox" ng-model="checkboxes.items[m.id]" />
                    </td>
                    <td class="rowTd" data-title="'Id'" 					sortable="'id'">{{m.id}}</td>
                    <td class="rowTd" data-title="'Pic'"                    sortable="'image'">{{m.image}}</td>
                    <td class="rowTd" data-title="'Expiration Date '"       sortable="'valid_thru'">{{m.valid_thru}}</td>
                    <td class="rowTd" data-title="'Prize'"                  sortable="'title'">{{m.prize}}</td>
                    <td class="rowTd" data-title="'Details'"                sortable="'details'">{{m.details}}</td>
                    <td class="rowTd" data-title="'Sponser'"                sortable="'fine_print'">{{m.sponser}}</td>
                    <td class="rowTd" data-title="'URL'"                    sortable="'category'">{{m.callback_url}}</td>
                    <td class="rowTd" data-title="'More Info'"              sortable="'popularity_rank'">{{m.info}}</td>
                    <td class="rowTd" data-title="'Active Status'"          sortable="'active_flag'">{{m.active_flag}}</td>
                    <td class="rowTd" data-title="'Participant'"            sortable="'local_flag'">{{m.participant}}</td>
                    <td class="rowTd" data-title="'Participant Counter'"    sortable="'vip_flag'">{{m.participant_counter}}</td>
                    <td class="rowTd" data-title="'Views Counter'"          sortable="'views_counter'">{{m.views_counter}}</td>
                    <td class="rowTd" data-title="'Report Counter'"         sortable="'download_counter'">{{m.report_counter}}</td>
                    <td class="rowTd" data-title="'Likes Counter'"          sortable="'likes_counter'">{{m.likes_counter}}</td>
                    <td class="rowTd" data-title="'Share Counter'"          sortable="'share_counter'">{{m.share_counter}}</td>
                    <td class="rowTd" data-title="'Comments'"               sortable="'share_counter'">{{m.comments}}</td>
                    <td class="rowTd" >
                        <input type=button id="editRowBtn{{m.id}}" class="btn btn-primary" value="edit" ng-click="setEditId(m,m.id)">
                    </td>
                    <td class="rowTd">
                        <input type=button value="delete" class="btn btn-danger" ng-click="deleteMission($index,m.id)">
                    </td>
        <!--             <td class="rowTd" >
                        <input type=button value="Details" ng-click="detailsMission()">
                    </td>
                     -->
                </tr>
                <tr ng-show="editId===m.id" ng-if="editId===m.id">
                    <td colspan="7" ng-include src="'views/missionEdit.html'"></td>
                </tr>
            </tbody>
        </table>
        
        
    </div>
</div>